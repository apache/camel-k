[[env-vars]]
= Environment Variables

The Camel K operator and CLI can be configured using environment variables. This page documents all the environment variables that can be used to customize the behavior of Camel K components.

[[operator-env-vars]]
== Operator Environment Variables

These environment variables configure the Camel K operator behavior.

[cols="2,1,3"]
|===
|Variable |Default |Description

|`WATCH_NAMESPACE`
|_required_
|The namespace(s) the operator watches for Integration resources. Required for operator startup.

|`NAMESPACE`
|_auto-detected_
|The namespace where the operator pod is running.

|`POD_NAME`
|_auto-detected_
|The name of the operator pod.

|`KAMEL_OPERATOR_ID`
|`camel-k`
|The operator ID used to identify which operator instance manages specific resources. Can also be set via `OPERATOR_ID`.

|`KAMEL_BASE_IMAGE`
|`eclipse-temurin:17-jdk`
|The base image used for building Integration images. Can also be set via `RELATED_IMAGE_BASE`.

|`CAMEL_K_SYNTHETIC_INTEGRATIONS`
|`false`
|When set to `true`, enables synthetic Integration support for managing external workloads.

|`LOG_LEVEL`
|`info`
|The log level for the operator. Valid values: `debug`, `info`, `warn`, `error`.

|`KAMELET_CATALOG_DIR`
|`/tmp/kamelets/`
|Directory where Kamelet catalog files are extracted during installation.
|===

[[proxy-env-vars]]
== Proxy Environment Variables

These environment variables configure HTTP proxy settings for the operator and builds.

[cols="2,1,3"]
|===
|Variable |Default |Description

|`HTTP_PROXY`
|_none_
|HTTP proxy URL for outbound HTTP connections.

|`HTTPS_PROXY`
|_none_
|HTTPS proxy URL for outbound HTTPS connections.

|`NO_PROXY`
|_none_
|Comma-separated list of hosts that should bypass the proxy.
|===

NOTE: Proxy settings are automatically propagated to build pods and can be inherited by Integration pods via the Environment trait.

[[maven-env-vars]]
== Maven Environment Variables

These environment variables configure Maven behavior during Integration builds.

[cols="2,1,3"]
|===
|Variable |Default |Description

|`MAVEN_CMD`
|`mvn`
|The Maven command to execute. Useful for specifying a custom Maven installation path.

|`MAVEN_WRAPPER`
|`true`
|When set to `true`, uses the Maven wrapper if available in the project.

|`MAVEN_OPTS`
|_none_
|Additional JVM options passed to Maven during builds.
|===

[[cli-env-vars]]
== CLI Environment Variables

These environment variables configure the `kamel` CLI behavior.

[cols="2,1,3"]
|===
|Variable |Default |Description

|`KUBECONFIG`
|`~/.kube/config`
|Path to the Kubernetes configuration file.

|`KAMEL_CONFIG_NAME`
|`kamel-config`
|Name of the CLI configuration file (without extension).

|`KAMEL_CONFIG_PATH`
|_auto-detected_
|Path to the directory containing the CLI configuration file.

|`GITHUB_TOKEN`
|_none_
|GitHub personal access token for accessing private repositories when using Git sources.
|===

[[build-env-vars]]
== Build Environment Variables

These environment variables are used during the Integration build process.

[cols="2,1,3"]
|===
|Variable |Default |Description

|`DOCKER_CONFIG`
|_none_
|Path to the Docker configuration directory for Jib-based builds. Used for registry authentication.

|`JAVA_HOME`
|_auto-detected_
|Path to the Java installation. Used for keystore operations during builds.
|===

[[runtime-env-vars]]
== Runtime Environment Variables

These environment variables are set on Integration pods at runtime.

[cols="2,1,3"]
|===
|Variable |Default |Description

|`CAMEL_K_OPERATOR_ID`
|_from operator_
|The operator ID that manages this Integration.

|`CAMEL_K_VERSION`
|_from operator_
|The Camel K version.

|`CAMEL_K_INTEGRATION`
|_integration name_
|The name of the Integration resource.

|`CAMEL_K_RUNTIME_VERSION`
|_from platform_
|The Camel K runtime version.

|`CAMEL_K_MOUNT_PATH_CONFIGMAPS`
|`/etc/camel/conf.d/_configmaps`
|Mount path for ConfigMaps.

|`CAMEL_K_MOUNT_PATH_SECRETS`
|`/etc/camel/conf.d/_secrets`
|Mount path for Secrets.

|`CAMEL_K_CONF`
|`/etc/camel/application.properties`
|Path to the main application properties file.

|`CAMEL_K_CONF_D`
|`/etc/camel/conf.d`
|Path to the additional configuration directory.

|`CAMEL_K_DIGEST`
|_computed_
|The digest of the Integration specification, used for change detection.
|===

[[setting-env-vars]]
== Setting Environment Variables

=== For the Operator

Environment variables for the operator can be set in the operator Deployment:

[source,yaml]
----
apiVersion: apps/v1
kind: Deployment
metadata:
  name: camel-k-operator
spec:
  template:
    spec:
      containers:
      - name: camel-k-operator
        env:
        - name: LOG_LEVEL
          value: "debug"
        - name: CAMEL_K_SYNTHETIC_INTEGRATIONS
          value: "true"
----

=== For Integrations

Environment variables for Integrations can be set using the Environment trait:

[source,bash]
----
kamel run MyRoute.java -t environment.vars=MY_VAR=myvalue
----

Or in the Integration specification:

[source,yaml]
----
apiVersion: camel.apache.org/v1
kind: Integration
metadata:
  name: my-integration
spec:
  traits:
    environment:
      vars:
      - MY_VAR=myvalue
----

For more information on the Environment trait, see xref:traits:environment.adoc[Environment Trait].
