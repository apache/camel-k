= Master Trait

// Start of autogenerated code - DO NOT EDIT! (description)
The Master trait allows to configure the integration to automatically leverage Kubernetes resources for doing
leader election and starting *master* routes only on certain instances.

It's activated automatically when using the master endpoint in a route, e.g. `from("master:lockname:telegram:bots")...`.

This trait is backed by camel-quarkus-kubernetes component and it requires build time properties if your integration needs customization.

These are the three most commonly used parameters:

`quarkus.camel.cluster.kubernetes.resource-name`: The name of the lease resource used to do optimistic locking (defaults to 'leaders').

`quarkus.camel.cluster.kubernetes.lease-resource-type`: The lease resource type used in Kubernetes, either `ConfigMap` or `Lease`` (defaults to `Lease`).

`quarkus.camel.cluster.kubernetes.labels`: The labels key/value used to identify the pods composing the cluster, defaults to empty map.

The parameters must be set with `--build-property`, example: `--build-property quarkus.camel.cluster.kubernetes.resource-name=foobar`

NOTE: this trait adds special permissions to the integration service account in order to read/write configmaps and read pods.
It's recommended to use a different service account than "default" when running the integration.


This trait is available in the following profiles: **Kubernetes, Knative, OpenShift**.

// End of autogenerated code - DO NOT EDIT! (description)
// Start of autogenerated code - DO NOT EDIT! (configuration)
== Configuration

Trait properties can be specified when running any integration with the CLI:
[source,console]
----
$ kamel run --trait master.[key]=[value] --trait master.[key2]=[value2] integration.groovy
----
The following configuration options are available:

[cols="2m,1m,5a"]
|===
|Property | Type | Description

| master.enabled
| bool
| Can be used to enable or disable a trait. All traits share this common property.

| master.auto
| bool
| Enables automatic configuration of the trait.

| master.include-delegate-dependencies
| bool
| When this flag is active, the operator analyzes the source code to add dependencies required by delegate endpoints.
E.g. when using `master:lockname:timer`, then `camel:timer` is automatically added to the set of dependencies.
It's enabled by default.

|===

// End of autogenerated code - DO NOT EDIT! (configuration)
